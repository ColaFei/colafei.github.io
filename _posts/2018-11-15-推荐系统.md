---
layout:     post
title:      推荐系统整理
subtitle:   
date:       2018-11-15
author:     Colafei
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - Git
---

>最后更新于2018年11月15日

# 推荐系统框架
![](https://upload-images.jianshu.io/upload_images/13880974-53ee77bcf6aaab62.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/904/format/webp)

推荐系统又叫个性化推荐系统，它会基于用户行为数据或物品数据，通过一定的算法，为用户推荐符合他需求的物品。

它主要解决两个问题，一个是信息过载，一个是用户需求的多样性。（一般来说，只有同时满足这两个条件时，才会使用推荐系统，不然可能适得其反。）

推荐系统基本可以分为：数据层、召回层和排序层。

## 数据层

数据层包括数据生产和数据存储，主要是利用各种数据处理工具对原始日志进行清洗并处理成格式化的数据，
将数据落地到不同类型的存储系统中，供下游的算法和模型使用。

## 召回层

我们通过用户行为、场景等进行实时判断，通过多个召回策略召回不同候选集。再对召回的候选集进行融合。

下面是一些我们常用到的召回策略：

### 基于用户的协同过滤

基于用户的协同过滤算法主要包括两个步骤。

(1) 找到和目标用户兴趣相似的用户集合。

(2) 找到这个集合中的用户喜欢的，且目标用户没有听说过的物品推荐给目标用户。

找出与当前User X最相似的N个User，并根据N个User对某Item的打分估计X对该Item的打分。在相似度算法方面，我们采用了Jaccard Similarity。

### 基于物品的协同过滤

原理是，为用户推荐那些和他之前喜欢的物品相似的物品。例如，算法可能会因为用户买过《推荐系统实践》而为用户推荐《推荐系统》。需要注意的是，
ItemCF 不是根据物品本身的内容来进行相似度匹配，而是通过用户对物品的行为数据计算物品之间的相似度。算法认为，物品 A 与物品 B 相似的原因是喜欢物品 A 的用户大多也喜欢物品 B。

我们使用下面的公式定义物品的相似度：
![](https://upload-images.jianshu.io/upload_images/13880974-f91b92fb2718926a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


其中，|N(i)|是喜欢物品i的用户数，|N(j)|是喜欢物品j的用户数，|N(i)&N(j)|是同时喜欢物品i和物品j的用户数。

从上面的定义看出，在协同过滤中两个物品产生相似度是因为它们共同被很多用户喜欢，两个物品相似度越高，说明这两个物品共同被很多人喜欢。

### 基于内容的推荐

基于内容的推荐是指根据用户选择的物品，推荐其他有类似属性的物品。它不同于基于物品的协同过滤。

通过物品的特征属性来判定物品之间的相似度，再根据用户历史行为的特征分析，得到推荐结果。例如在
进行电影的推荐时，分析用户之前选择的电影的共性，得到用户的兴趣特征，再与电影的特征作匹配。

### 基于搜索查询的召回

是根据Query中包含的实时信息（如地理位置信息、WiFi到店、关键词搜索、导航搜索等）对用户的意图进行抽象，从而触发的策略。

### 基于位置的召回

移动设备的位置是经常发生变化的，不同的地理位置反映了不同的用户场景，可以在具体的业务中充分利用。

在推荐的候选集召回中，我们也会根据用户的实时地理位置、工作地、居住地等地理位置触发相应的策略。

## 排序层

###


###


###
