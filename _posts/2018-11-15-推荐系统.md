---
layout:     post
title:      推荐系统整理
subtitle:   
date:       2018-11-15
author:     Colafei
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - Git
---

>最后更新于2018年11月15日

# 推荐系统框架
![](https://upload-images.jianshu.io/upload_images/13880974-53ee77bcf6aaab62.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/904/format/webp)


推荐系统基本可以分为：数据层、召回层和排序层。

## 数据层

数据层包括数据生产和数据存储，主要是利用各种数据处理工具对原始日志进行清洗并处理成格式化的数据，
将数据落地到不同类型的存储系统中，供下游的算法和模型使用。

## 召回层

我们通过用户行为、场景等进行实时判断，通过多个召回策略召回不同候选集。再对召回的候选集进行融合。

下面是一些我们常用到的召回策略：

### User-Based 协同过滤

找出与当前User X最相似的N个User，并根据N个User对某Item的打分估计X对该Item的打分。在相似度算法方面，我们采用了Jaccard Similarity。

### Item-Based 协同过滤

我们先用word2vec对每个Item取其隐含空间的向量，然后用Cosine Similarity计算用户u用过的每一个Item与未用过Item i之间的相似性。最后对Top N的结果进行召回。

### Query-Based（基于搜索查询的召回）

是根据Query中包含的实时信息（如地理位置信息、WiFi到店、关键词搜索、导航搜索等）对用户的意图进行抽象，从而触发的策略。

### Location-Based（基于位置的召回）

移动设备的位置是经常发生变化的，不同的地理位置反映了不同的用户场景，可以在具体的业务中充分利用。

在推荐的候选集召回中，我们也会根据用户的实时地理位置、工作地、居住地等地理位置触发相应的策略。

## 排序层